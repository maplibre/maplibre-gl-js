<!DOCTYPE html>
<html lang="en">
<head>
    <title>Data-driven line-dasharray</title>
    <meta property="og:description" content="Data driven line-dasharray" />
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel='stylesheet' href='../../dist/maplibre-gl.css' />
    <script src='../../dist/maplibre-gl-dev.js'></script>
    <style>
        body { margin: 0; padding: 0; }
        html, body, #map { height: 100%; }
    </style>
</head>
<body>
<div id="map"></div>

<script>
    const map = (window.map = new maplibregl.Map({
        container: 'map',
        "center": [0, 0],
        "zoom": 10,
        style: {
            "version": 8,
            "metadata": {
                "test": {
                "width": 64,
                "height": 64
                }
            },
            "zoom": 10,
            "sources": {
                "geojson": {
                "type": "geojson",
                "data": {
                    "type": "FeatureCollection",
                    "features": [
                        {
                            "type": "Feature",
                            "properties": {
                                "foo": 0
                            },
                            "geometry": {
                                "coordinates": [
                                    [-1, 0],
                                    [1, 0]
                                ],
                                "type": "LineString"
                            }
                        },
                        {
                            "type": "Feature",
                            "properties": {
                                "foo": 1
                            },
                            "geometry": {
                                "coordinates": [
                                    [0, -1],
                                    [0, 1]
                                ],
                                "type": "LineString"
                            }
                        }
                    ]
                }
                }
            },
            "layers": [
                {
                    "id": "line",
                    "type": "line",
                    "source": "geojson",
                    "paint": {
                        "line-width": 4,
                        "line-dasharray": [
                            "case",
                            ["==", ["get", "foo"], 0],
                            ["literal", [1, 1]],
                            ["literal", [2, 2]]
                        ]
                        // "line-dasharray": ["literal", [2, 2]]
                    }
                }
            ]
        }
    }));

</script>
</body>
</html>
