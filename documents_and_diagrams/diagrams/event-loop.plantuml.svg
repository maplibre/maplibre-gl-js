<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="573px" preserveAspectRatio="none" style="width:664px;height:573px;" version="1.1" viewBox="0 0 664 573" width="664px" zoomAndPan="magnify"><defs><filter height="300%" id="f1fo183tva5kp4" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="26" x2="26" y1="86.4883" y2="485.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="126.5" x2="126.5" y1="86.4883" y2="485.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="231.5" x2="231.5" y1="86.4883" y2="485.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="346.5" x2="346.5" y1="86.4883" y2="485.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="426.5" x2="426.5" y1="86.4883" y2="485.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="513.5" x2="513.5" y1="86.4883" y2="485.5254"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="590.5" x2="590.5" y1="86.4883" y2="485.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="8" y="83.5352">user</text><ellipse cx="26" cy="13" fill="#FEFECE" filter="url(#f1fo183tva5kp4)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M26,21 L26,48 M13,29 L39,29 M26,48 L13,63 M26,48 L39,63 " fill="none" filter="url(#f1fo183tva5kp4)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="8" y="498.0605">user</text><ellipse cx="26" cy="511.0137" fill="#FEFECE" filter="url(#f1fo183tva5kp4)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M26,519.0137 L26,546.0137 M13,527.0137 L39,527.0137 M26,546.0137 L13,561.0137 M26,546.0137 L39,561.0137 " fill="none" filter="url(#f1fo183tva5kp4)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f1fo183tva5kp4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="47" x="101.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="108.5" y="71.5352">DOM</text><rect fill="#FEFECE" filter="url(#f1fo183tva5kp4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="47" x="101.5" y="484.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="108.5" y="505.0605">DOM</text><rect fill="#FEFECE" filter="url(#f1fo183tva5kp4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="162.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="169.5" y="71.5352">handler_manager</text><rect fill="#FEFECE" filter="url(#f1fo183tva5kp4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="162.5" y="484.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="169.5" y="505.0605">handler_manager</text><rect fill="#FEFECE" filter="url(#f1fo183tva5kp4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="67" x="311.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="318.5" y="71.5352">handler</text><rect fill="#FEFECE" filter="url(#f1fo183tva5kp4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="67" x="311.5" y="484.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="318.5" y="505.0605">handler</text><rect fill="#FEFECE" filter="url(#f1fo183tva5kp4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="392.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="399.5" y="71.5352">camera</text><rect fill="#FEFECE" filter="url(#f1fo183tva5kp4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="392.5" y="484.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="399.5" y="505.0605">camera</text><rect fill="#FEFECE" filter="url(#f1fo183tva5kp4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="82" x="470.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="477.5" y="71.5352">transform</text><rect fill="#FEFECE" filter="url(#f1fo183tva5kp4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="82" x="470.5" y="484.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="477.5" y="505.0605">transform</text><rect fill="#FEFECE" filter="url(#f1fo183tva5kp4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="566.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="573.5" y="71.5352">map</text><rect fill="#FEFECE" filter="url(#f1fo183tva5kp4)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="44" x="566.5" y="484.5254"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="573.5" y="505.0605">map</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="424.5" x2="414.5" y1="117.7988" y2="113.7988"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="424.5" x2="414.5" y1="117.7988" y2="121.7988"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26" x2="425.5" y1="117.7988" y2="117.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="33" y="113.0566">map#setCenter, map#panTo</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="511.5" x2="501.5" y1="147.1094" y2="143.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="511.5" x2="501.5" y1="147.1094" y2="151.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="426.5" x2="512.5" y1="147.1094" y2="147.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="433.5" y="142.3672">update</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="588.5" x2="578.5" y1="176.4199" y2="172.4199"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="588.5" x2="578.5" y1="176.4199" y2="180.4199"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="426.5" x2="589.5" y1="176.4199" y2="176.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="433.5" y="171.6777">fire move event</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="590.5" x2="632.5" y1="205.7305" y2="205.7305"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="632.5" x2="632.5" y1="205.7305" y2="218.7305"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="591.5" x2="632.5" y1="218.7305" y2="218.7305"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="591.5" x2="601.5" y1="218.7305" y2="214.7305"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="591.5" x2="601.5" y1="218.7305" y2="222.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="597.5" y="200.9883">_render()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="115" y1="278.6621" y2="274.6621"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="115" y1="278.6621" y2="282.6621"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26" x2="126" y1="278.6621" y2="278.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="33" y="243.2988">resize, pan,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="33" y="258.6094">click, scroll,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="33" y="273.9199">...</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="230" x2="220" y1="307.9727" y2="303.9727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="230" x2="220" y1="307.9727" y2="311.9727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="127" x2="231" y1="307.9727" y2="307.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="134" y="303.2305">DOM events</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="345" x2="335" y1="337.2832" y2="333.2832"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="345" x2="335" y1="337.2832" y2="341.2832"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="232" x2="346" y1="337.2832" y2="337.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="239" y="332.541">forward event</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="232" x2="242" y1="366.5938" y2="362.5938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="232" x2="242" y1="366.5938" y2="370.5938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="232" x2="346" y1="366.5938" y2="366.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="88" x="249" y="361.8516">HandlerResult</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="511.5" x2="501.5" y1="395.9043" y2="391.9043"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="511.5" x2="501.5" y1="395.9043" y2="399.9043"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="232" x2="512.5" y1="395.9043" y2="395.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="239" y="391.1621">update</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="588.5" x2="578.5" y1="425.2148" y2="421.2148"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="588.5" x2="578.5" y1="425.2148" y2="429.2148"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="232" x2="589.5" y1="425.2148" y2="425.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="239" y="420.4727">fire move event</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="590.5" x2="632.5" y1="454.5254" y2="454.5254"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="632.5" x2="632.5" y1="454.5254" y2="467.5254"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="591.5" x2="632.5" y1="467.5254" y2="467.5254"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="591.5" x2="601.5" y1="467.5254" y2="463.5254"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="591.5" x2="601.5" y1="467.5254" y2="471.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="597.5" y="449.7832">_render()</text><!--
@startuml
actor user
participant DOM
participant handler_manager
participant handler
participant camera
participant transform
participant map

user->>camera: map#setCenter, map#panTo
camera->>transform: update
camera->>map: fire move event
map->>map: _render()

user->>DOM: resize, pan,\nclick, scroll,\n...
DOM->>handler_manager: DOM events
handler_manager->>handler: forward event
handler- ->>handler_manager: HandlerResult
handler_manager->>transform: update
handler_manager->>map: fire move event
map->>map: _render()
@enduml

PlantUML version 1.2019.06(Fri May 24 13:10:25 EDT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_162-b12
Operating System: Mac OS X
OS Version: 10.15.7
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>